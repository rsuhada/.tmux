# select shell
set -g default-shell /bin/zsh

# set prefix key
set-option -g prefix C-o
bind-key C-o last-window # might want to have the same as prefix

set -g default-terminal "screen-256color"
set-window-option -g utf8 on

######################################################################
# Set status bar

set -g status-bg black
set -g status-fg white

set-option -g status-justify left
set-option -g status-left-length 40
set-option -g status-right-length 100
set-option -g status-utf8 on

# set -g status-left '#[fg=green]#H'
# set -g status-left 'a'

set -g status-right '#[fg=green]][#[fg=white]#11h#[fg=green]][ #[fg=blue]%d.%m. #[fg=white]%H:%M#[default] #[fg=green]]'

set-window-option -g window-status-current-bg green
set-window-option -g window-status-current-fg black

######################################################################
# look and feel

# border colours
set -g pane-border-fg black
set -g pane-active-border-fg green
set -g pane-active-border-bg default
set -g pane-border-bg default

######################################################################
# misc. settings

# Set window notifications
setw -g monitor-activity on
set -g visual-activity on

# Automatically set window title
setw -g automatic-rename

# faster twi char commands
set -s escape-time 0
set -s repeat-time 1000

# start window indexing at one instead of zero
set -g base-index 1

# window title on top
set-option -g set-titles on
set-option -g set-titles-string '#S.#I.#P #W #T' # window number,program name,active (or not)

# history
set -g history-limit 100000

# Clock
setw -g clock-mode-colour green
setw -g clock-mode-style 24

# on-screen time for display-panes in ms
set -g display-panes-time 2000

######################################################################
# keybindings
set-window-option -g mode-keys emacs

# how to bind commnad prompt to something easier?
# bind-key          ; command-prompt
bind-key          t choose-session

# Reload key
bind r source-file ~/.tmux.conf \; display-message "Config reloaded!"

# splitting
unbind % # Remove default binding since weâ€™re replacing
bind -r h split-window -h
bind -r v split-window -v

bind -r i select-window -t:-1
bind -r p select-window -t:+1

# quick view of processes
bind '-' split-window "exec htop"

# cycle through panes
bind-key -r          o last-pane
bind -r a select-pane -t :.+

# add chaining for common tasks
bind-key -r      Space next-layout

# todo: add automatic session for subprojects


######################################################################
######################################################################
######################################################################

# # Make it use C-a, similar to screen..
# unbind C-b
# unbind l
# set -g prefix C-a
# bind-key C-a last-window

# # Reload key
# bind r source-file ~/.tmux.conf

# set -g default-terminal "screen-256color"
# set -g history-limit 1000


# # THEME
# set -g status-bg black
# set -g status-fg white
# set -g status-interval 60
# set -g status-left-length 30
# set -g status-left '#[fg=green](#S) #(whoami)@#H#[default]'
# set -g status-right '#[fg=yellow]#(cut -d " " -f 1-3 /proc/loadavg)#[default] #[fg=blue]%H:%M#[default]'

# # set correct term
# set -g default-terminal screen-256color


# # keybindings to make resizing easier
# bind -r C-h resize-pane -L
# bind -r C-j resize-pane -D
# bind -r C-k resize-pane -U
# bind -r C-l resize-pane -R


######################################################################
# #---------------------------------------------------------------
# # file:     ~/.tmux/conf
# # author:   jason ryan - http://jasonwryan.com/
# # vim:fenc=utf-8:nu:ai:si:et:ts=4:sw=4:fdm=indent:fdn=1:ft=conf:
# #---------------------------------------------------------------
# # Based on Thayer Williams' (http://cinderwick.ca)

# # reload config without killing server
# bind R source-file ~/.tmux/conf \; display-message "  Config reloaded..".

# # copy tmux buffer to clipboard
# bind C-y run "tmux show-buffer | xsel -b"
# # move x clipboard into tmux paste buffer
# bind C-p run "tmux set-buffer \"$(xsel -o)\"; tmux paste-buffer"

# # pane selection
# bind Left select-pane -L
# bind Right select-pane -R
# bind Up select-pane -U
# bind Down select-pane -D

# # pane/window movement
# bind-key j command-prompt -p "join pane from:" "join-pane -s '%%'"
# bind-key s command-prompt -p "send pane to:" "join-pane -t '%%'"
# bind-key S command-prompt -p "swap window with:" "swap-window -t ':%%'"
# bind-key m command-prompt -p "move window to:" "move-window -t ':%%'"

# # quick view of processes
# bind '~' split-window "exec htop"

# # open {tmux,mutt,vim} man page
# bind-key T neww -n "Tmux manual" "exec man tmux"
# bind-key M neww -n "Mutt manual" "exec man mutt"
# bind-key V neww -n "Vim manual" "exec vim -c 'h user-manual|only'"

# # open %% man page
# bind C-m command-prompt -p "Open man page for:" "new-window 'exec man %%'"

# # send the prefix to client inside window (ala nested sessions)
# bind-key -n C-i send-prefix

# # toggle last window like screen
# bind-key C-b last-window

# # confirm before killing a window or the server
# bind-key k confirm kill-window
# bind-key K confirm kill-server

# # toggle statusbar
# bind-key b set-option status

# # ctrl+left/right cycles thru windows
# bind-key -n C-right next
# bind-key -n C-left prev

# # scrollback buffer n lines
# set -g history-limit 5000

# # listen for activity on all windows
# set -g bell-action any

# # on-screen time for display-panes in ms
# set -g display-panes-time 2000

# # start window indexing at one instead of zero
# set -g base-index 1

# # enable wm window titles
# set -g set-titles on

# # enable auto renaming
# setw -g automatic-rename on

# # border colours
# set -g pane-border-fg black
# set -g pane-active-border-fg green
# set -g pane-active-border-bg default
# set -g pane-border-bg default

# # wm window title string (uses statusbar variables)
# set -g set-titles-string "tmux:#I [ #W ]"

# # initialize sessions
# bind S source-file ~/.tmux/standard
# bind I source-file ~/.tmux/irssi

# # environment
# set -g update-environment "DISPLAY SSH_ASKPASS SSH_AUTH_SOCK SSH_AGENT_PID SSH_CONNECTION WINDOWID XAUTHORITY"

# # statusbar --------------------------------------------------------------
# set -g window-status-format "#I:#W"
# set -g window-status-current-format "#I:#W"

# set -g status-keys vi
# bind-key -t vi-edit Up history-up
# bind-key -t vi-edit Down history-down

# set -g status-interval 1
# set -g status-justify centre # center align window list

# # default statusbar colors
# set -g status-fg white
# set -g status-bg default

# # default window title colors
# set-window-option -g window-status-fg black
# set-window-option -g window-status-bg default
# set-window-option -g window-status-attr bright

# # active window title colors
# set-window-option -g window-status-current-fg white
# set-window-option -g window-status-current-bg default
# set-window-option -g window-status-current-attr bright

# # command/message line colors
# set -g message-fg white
# set -g message-bg black
# set -g message-attr bright

# # Statusbar starting in X or not
# if '[ -n "$DISPLAY" ]' 'source-file ~/.tmux/inx'
# if '[ -z "$DISPLAY" ]' 'source-file ~/.tmux/xless'


# bind F1 select-window -t 10
# bind F2 select-window -t 11
# bind F3 select-window -t 12
# bind F4 select-window -t 13
# bind F5 select-window -t 14
# bind F6 select-window -t 15
# bind F7 select-window -t 16
# bind F8 select-window -t 17
# bind F9 select-window -t 18
# bind F10 select-window -t 19
# bind F11 select-window -t 20
# bind F12 select-window -t 21
